import{z as x,c as j,h as B,A as F,r as Q,V as D,aa as L,a9 as T,o as g,g as V,R as w,S as y,ae as $,X as I,E as O,J as k,Y as P}from"./index.204f77d1.js";import{p as G}from"./format.034aeb32.js";import{i as H}from"./use-meta.b693dbab.js";var W=x({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(t,{slots:p}){const r=j(()=>{const o=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(s=>t[s]===!0).map(s=>`q-btn-group--${s}`).join(" ");return`q-btn-group row no-wrap${o.length!==0?" "+o:""}`+(t.spread===!0?" q-btn-group--spread":" inline")});return()=>B("div",{class:r.value},F(p.default))}}),X=x({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(t,{slots:p,emit:r}){const o=V(),s=Q(null);let l=0;const u=[];function b(e){const f=typeof e=="boolean"?e:t.noErrorFocus!==!0,h=++l,E=(n,c)=>{r("validation"+(n===!0?"Success":"Error"),c)},R=n=>{const c=n.validate();return typeof c.then=="function"?c.then(d=>({valid:d,comp:n}),d=>({valid:!1,comp:n,err:d})):Promise.resolve({valid:c,comp:n})};return(t.greedy===!0?Promise.all(u.map(R)).then(n=>n.filter(c=>c.valid!==!0)):u.reduce((n,c)=>n.then(()=>R(c).then(d=>{if(d.valid===!1)return Promise.reject(d)})),Promise.resolve()).catch(n=>[n])).then(n=>{if(n===void 0||n.length===0)return h===l&&E(!0),!0;if(h===l){const{comp:c,err:d}=n[0];if(d!==void 0&&console.error(d),E(!1,c),f===!0){const z=n.find(({comp:q})=>typeof q.focus=="function"&&H(q.$)===!1);z!==void 0&&z.comp.focus()}}return!1})}function i(){l++,u.forEach(e=>{typeof e.resetValidation=="function"&&e.resetValidation()})}function a(e){e!==void 0&&w(e);const f=l+1;b().then(h=>{f===l&&h===!0&&(t.onSubmit!==void 0?r("submit",e):e!==void 0&&e.target!==void 0&&typeof e.target.submit=="function"&&e.target.submit())})}function v(e){e!==void 0&&w(e),r("reset"),y(()=>{i(),t.autofocus===!0&&t.noResetFocus!==!0&&m()})}function m(){G(()=>{if(s.value===null)return;const e=s.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||s.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||s.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(s.value.querySelectorAll("[tabindex]"),f=>f.tabIndex>-1);e!=null&&e.focus({preventScroll:!0})})}D($,{bindComponent(e){u.push(e)},unbindComponent(e){const f=u.indexOf(e);f>-1&&u.splice(f,1)}});let S=!1;return L(()=>{S=!0}),T(()=>{S===!0&&t.autofocus===!0&&m()}),g(()=>{t.autofocus===!0&&m()}),Object.assign(o.proxy,{validate:b,resetValidation:i,submit:a,reset:v,focus:m,getValidationComponents:()=>u}),()=>B("form",{class:"q-form",ref:s,onSubmit:a,onReset:v},F(p.default))}});function N(){const t=Q(!I.value);return t.value===!1&&g(()=>{t.value=!0}),t}const A=typeof ResizeObserver!="undefined",C=A===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var Y=x({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(t,{emit:p}){let r=null,o,s={width:-1,height:-1};function l(i){i===!0||t.debounce===0||t.debounce==="0"?u():r===null&&(r=setTimeout(u,t.debounce))}function u(){if(r!==null&&(clearTimeout(r),r=null),o){const{offsetWidth:i,offsetHeight:a}=o;(i!==s.width||a!==s.height)&&(s={width:i,height:a},p("resize",s))}}const{proxy:b}=V();if(A===!0){let i;const a=v=>{o=b.$el.parentNode,o?(i=new ResizeObserver(l),i.observe(o),u()):v!==!0&&y(()=>{a(!0)})};return g(()=>{a()}),O(()=>{r!==null&&clearTimeout(r),i!==void 0&&(i.disconnect!==void 0?i.disconnect():o&&i.unobserve(o))}),k}else{let v=function(){r!==null&&(clearTimeout(r),r=null),a!==void 0&&(a.removeEventListener!==void 0&&a.removeEventListener("resize",l,P.passive),a=void 0)},m=function(){v(),o&&o.contentDocument&&(a=o.contentDocument.defaultView,a.addEventListener("resize",l,P.passive),u())};const i=N();let a;return g(()=>{y(()=>{o=b.$el,o&&m()})}),O(v),b.trigger=l,()=>{if(i.value===!0)return B("object",{style:C.style,tabindex:-1,type:"text/html",data:C.url,"aria-hidden":"true",onLoad:m})}}}});export{W as Q,X as a,Y as b};
